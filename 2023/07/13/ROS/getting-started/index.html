<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="This note contains a detail summary of setting up ROS2 and the basic definitions of the ROS2 concepts. Goal of this is to summarise the basic usage of these concepts.  ROS Distro and the version 123R">
<meta property="og:type" content="article">
<meta property="og:title" content="Getting started with ROS2">
<meta property="og:url" content="https://naaz97.github.io/2023/07/13/ROS/getting-started/index.html">
<meta property="og:site_name" content="Notes">
<meta property="og:description" content="This note contains a detail summary of setting up ROS2 and the basic definitions of the ROS2 concepts. Goal of this is to summarise the basic usage of these concepts.  ROS Distro and the version 123R">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://docs.ros.org/en/humble/_images/Nodes-TopicandService.gif">
<meta property="article:published_time" content="2023-07-13T12:00:31.981Z">
<meta property="article:modified_time" content="2023-07-13T17:14:40.406Z">
<meta property="article:tag" content="Robotics">
<meta property="article:tag" content="ROS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://docs.ros.org/en/humble/_images/Nodes-TopicandService.gif">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Getting started with ROS2</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/categories/">Tag cloud</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/07/04/Deep%20learning/Self%20attention/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://naaz97.github.io/2023/07/13/ROS/getting-started/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&text=Getting started with ROS2"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&is_video=false&description=Getting started with ROS2"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Getting started with ROS2&body=Check out this article: https://naaz97.github.io/2023/07/13/ROS/getting-started/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&name=Getting started with ROS2&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://naaz97.github.io/2023/07/13/ROS/getting-started/&t=Getting started with ROS2"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-up-the-environment"><span class="toc-number">1.</span> <span class="toc-text">Setting up the environment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-the-sourcing-to-shell-startup-script-to-access-ROS2-commands"><span class="toc-number">1.1.</span> <span class="toc-text">Add the sourcing to shell startup script to access ROS2 commands</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-a-workspace"><span class="toc-number">1.2.</span> <span class="toc-text">Creating a workspace</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Creating-a-directory-for-the-workspace"><span class="toc-number">1.2.1.</span> <span class="toc-text">Creating a directory for the workspace</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Build-the-workspace"><span class="toc-number">1.2.2.</span> <span class="toc-text">Build the workspace</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Source-the-environment"><span class="toc-number">1.2.3.</span> <span class="toc-text">Source the environment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setup-colcon-tab-completion"><span class="toc-number">1.2.4.</span> <span class="toc-text">Setup colcon tab completion</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-a-package"><span class="toc-number">1.3.</span> <span class="toc-text">Creating a package</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Building-a-package"><span class="toc-number">1.4.</span> <span class="toc-text">Building a package</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nodes-in-ROS2"><span class="toc-number">2.</span> <span class="toc-text">Nodes in ROS2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#create-a-node-which-logs-a-message"><span class="toc-number">2.1.</span> <span class="toc-text">create a node which logs a message</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-the-node"><span class="toc-number">2.2.</span> <span class="toc-text">Install the node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-the-package-%E2%80%93-instructions-above"><span class="toc-number">2.3.</span> <span class="toc-text">Build the package â€“ instructions above</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-the-node"><span class="toc-number">2.4.</span> <span class="toc-text">Run the node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-a-timer-and-a-callback-inside-the-node"><span class="toc-number">2.5.</span> <span class="toc-text">Add a timer and a callback inside the node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ros2-node-list"><span class="toc-number">2.6.</span> <span class="toc-text">ros2 node list</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ros2-node-info"><span class="toc-number">2.7.</span> <span class="toc-text">ros2 node info</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Getting started with ROS2
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name"></span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-07-13T12:00:31.981Z" class="dt-published" itemprop="datePublished">2023-07-13</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Robotics/">Robotics</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/ROS/" rel="tag">ROS</a>, <a class="p-category" href="/tags/Robotics/" rel="tag">Robotics</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <blockquote>
<p>This note contains a detail summary of setting up ROS2 and the basic definitions of the ROS2 concepts. Goal of this is to summarise the basic usage of these concepts.</p>
</blockquote>
<p>ROS Distro and the version</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ROS_VERSION=2</span><br><span class="line">ROS_DISTRO=humble</span><br><span class="line">OS=Ubuntu 22.04</span><br></pre></td></tr></table></figure>
<h2 id="Setting-up-the-environment"><a href="#Setting-up-the-environment" class="headerlink" title="Setting up the environment"></a>Setting up the environment</h2><h3 id="Add-the-sourcing-to-shell-startup-script-to-access-ROS2-commands"><a href="#Add-the-sourcing-to-shell-startup-script-to-access-ROS2-commands" class="headerlink" title="Add the sourcing to shell startup script to access ROS2 commands"></a>Add the sourcing to shell startup script to access ROS2 commands</h3><p>Sourcing your ROS 2 installation workspace in the terminal makes ROS 2â€™s packages available for you to use in that terminal.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source /opt/ros/humble/setup.bash&quot;</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="Creating-a-workspace"><a href="#Creating-a-workspace" class="headerlink" title="Creating a workspace"></a>Creating a workspace</h3><p>A workspace is a directory containing ROS 2 packages.</p>
<h4 id="Creating-a-directory-for-the-workspace"><a href="#Creating-a-directory-for-the-workspace" class="headerlink" title="Creating a directory for the workspace"></a>Creating a directory for the workspace</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/ros2_ws/src</span><br><span class="line"><span class="built_in">cd</span> ~/ros2_ws</span><br></pre></td></tr></table></figure>
<h4 id="Build-the-workspace"><a href="#Build-the-workspace" class="headerlink" title="Build the workspace"></a>Build the workspace</h4><p> In the root of the project(i.e. <code>~/ros2_ws</code>), run </p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colcon build</span><br></pre></td></tr></table></figure>

<p> Using build command with the tag <code>--symlink-install</code> allows the installed files to be changed by changing the files in the source space (e.g. Python files or other non-compiled resources) for faster iteration.</p>
<p> After the build we should see directory structure as below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ build</span><br><span class="line">â”œâ”€â”€ install</span><br><span class="line">â”œâ”€â”€ log</span><br><span class="line">â””â”€â”€ src</span><br></pre></td></tr></table></figure>

<h4 id="Source-the-environment"><a href="#Source-the-environment" class="headerlink" title="Source the environment"></a>Source the environment</h4><p>colcon will bash&#x2F;bat files in the <code>install</code> directory to help set up the environment. These files will add all of the required elements to your path and library paths as well as provide any bash or shell commands exported by packages.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source ~/ros2_ws/install/setup.bash &quot;</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h4 id="Setup-colcon-tab-completion"><a href="#Setup-colcon-tab-completion" class="headerlink" title="Setup colcon tab completion"></a>Setup <code>colcon</code> tab completion</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source /usr/share/colcon_argcomplete/hook/colcon-argcomplete.bash&quot;</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="Creating-a-package"><a href="#Creating-a-package" class="headerlink" title="Creating a package"></a>Creating a package</h3><p>A package is an organizational unit for your ROS 2 code. Package creation in ROS 2 uses ament as its build system and colcon as its build tool. A single workspace can contain as many packages as you want, each in their own folder.</p>
<p>Make sure you are in the <code>src</code> folder.</p>
<p>For Python</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg create &lt;package_name&gt; --build-type ament_python --dependencies rclpy </span><br></pre></td></tr></table></figure>
<p>For C++</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg create &lt;package_name&gt; --build-type ament_cmake --dependencies rclcpp</span><br></pre></td></tr></table></figure>
<h3 id="Building-a-package"><a href="#Building-a-package" class="headerlink" title="Building a package"></a>Building a package</h3><p>You can build many packages at once by running colcon build in the workspace root.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/ros2_ws</span><br><span class="line">colcon build</span><br></pre></td></tr></table></figure>
<p>source the workspace bash file</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>
<p>To build only a particular package</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colcon build --packages-select &lt;package_name&gt;</span><br></pre></td></tr></table></figure>

<p>Package contents after building. Inside <code>ros2_ws/src/&lt;package_name&gt;</code>, you will see the files and folders that ros2 pkg create automatically generated.</p>
<p>For Python</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my_package  package.xml  resource  setup.cfg  setup.py  <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>For C++</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMakeLists.txt  include  package.xml  src</span><br></pre></td></tr></table></figure>

<h2 id="Nodes-in-ROS2"><a href="#Nodes-in-ROS2" class="headerlink" title="Nodes in ROS2"></a>Nodes in ROS2</h2><p>Each node in ROS should be responsible for a single, modular purpose, e.g. controlling the wheel motors or publishing the sensor data from a laser range-finder. Each node can send and receive data from other nodes via topics, services, actions, or parameters.</p>
<p>A full robotic system is comprised of many nodes working in concert. In ROS 2, a single executable (C++ program, Python program, etc.) can contain one or more nodes.</p>
<center>
<img src="https://docs.ros.org/en/humble/_images/Nodes-TopicandService.gif"  width="80%" height="80%">
</center>
 
<p><a target="_blank" rel="noopener" href="https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html#id3"><em>source</em></a></p>
<p>From now on I will be using python and <code>&lt;package_name&gt;</code> as <code>my_package</code>.</p>
<p>Go to the folder inside your package which names as same as your package.(i.e.<code>my_package</code>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span>  ros2_ws/src/my_package/my_package</span><br></pre></td></tr></table></figure>
<h3 id="create-a-node-which-logs-a-message"><a href="#create-a-node-which-logs-a-message" class="headerlink" title="create a node which logs a message"></a>create a node which logs a message</h3><p>Create a python file for you node and make it executable</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> my_first_node.py</span><br><span class="line"><span class="built_in">chmod</span> +x my_first_node.py</span><br></pre></td></tr></table></figure>

<p>Write the first node as below.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3 </span></span><br><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">&quot;first_node&quot;</span>) <span class="comment"># node name that is used when we run the node in the graph</span></span><br><span class="line">        self.get_logger().info(<span class="string">&quot;My first node message&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):</span><br><span class="line">    rclpy.init(args=args) <span class="comment"># initialize ros2 communication</span></span><br><span class="line">    node = MyNode() <span class="comment"># creating the node object</span></span><br><span class="line">    rclpy.spin(node=node) <span class="comment"># when you spin a node it is gonna be kept alive until you kills it.</span></span><br><span class="line">    rclpy.shutdown()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h3 id="Install-the-node"><a href="#Install-the-node" class="headerlink" title="Install the node"></a>Install the node</h3><p>Navigate to the <code>setup.py</code> in your package. Add a <code>console script</code> in the <code>entry_points</code>. make the executable name <code>test_node</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">entry_points=&#123;</span><br><span class="line">        <span class="string">&#x27;console_scripts&#x27;</span>: [</span><br><span class="line">            <span class="string">&quot;test_node = my_package.my_first_node:main&quot;</span></span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="Build-the-package-â€“-instructions-above"><a href="#Build-the-package-â€“-instructions-above" class="headerlink" title="Build the package â€“ instructions above"></a>Build the package â€“ instructions above</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/ros2_ws</span><br><span class="line">colcon build</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>
<h3 id="Run-the-node"><a href="#Run-the-node" class="headerlink" title="Run the node"></a>Run the node</h3><p>The command <code>ros2 run</code> launches an executable from a package. <code>ros2 run &lt;package_name&gt; &lt;executable_name&gt;</code></p>
<p>Run the below</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run my_package test_node</span><br></pre></td></tr></table></figure>

<p>It will output something like this<br><code>[INFO] [1689263569.773487669] [first_node]: My first node message</code></p>
<h3 id="Add-a-timer-and-a-callback-inside-the-node"><a href="#Add-a-timer-and-a-callback-inside-the-node" class="headerlink" title="Add a timer and a callback inside the node"></a>Add a timer and a callback inside the node</h3><p>We are going to log a message at every second.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3 </span></span><br><span class="line"><span class="keyword">import</span> rclpy</span><br><span class="line"><span class="keyword">from</span> rclpy.node <span class="keyword">import</span> Node</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyNode</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="string">&quot;first_node&quot;</span>) </span><br><span class="line">        self.counter_ = <span class="number">0</span></span><br><span class="line">        self.create_timer(<span class="number">1.0</span>, self.timer_callback)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">timer_callback</span>(<span class="params">self</span>):</span><br><span class="line">        self.get_logger().info(<span class="string">&quot;Hello &quot;</span> + <span class="built_in">str</span>(self.counter_))</span><br><span class="line">        self.counter_ += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">args=<span class="literal">None</span></span>):</span><br><span class="line">    rclpy.init(args=args)</span><br><span class="line">    node = MyNode() </span><br><span class="line">    rclpy.spin(node=node)</span><br><span class="line">    rclpy.shutdown()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h3 id="ros2-node-list"><a href="#ros2-node-list" class="headerlink" title="ros2 node list"></a>ros2 node list</h3><p><code>ros2 node list</code> will show you the names of all running nodes. </p>
<p>this will output something like this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/first_node</span><br></pre></td></tr></table></figure>
<h3 id="ros2-node-info"><a href="#ros2-node-info" class="headerlink" title="ros2 node info"></a>ros2 node info</h3><p><code>ros2 node info /first_node</code>returns a list of subscribers, publishers, services, and actions.</p>
<p>The output should look like this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/first_node</span><br><span class="line">  Subscribers:</span><br><span class="line"></span><br><span class="line">  Publishers:</span><br><span class="line">    /parameter_events: rcl_interfaces/msg/ParameterEvent</span><br><span class="line">    /rosout: rcl_interfaces/msg/Log</span><br><span class="line">  Service Servers:</span><br><span class="line">    /first_node/describe_parameters: rcl_interfaces/srv/DescribeParameters</span><br><span class="line">    /first_node/get_parameter_types: rcl_interfaces/srv/GetParameterTypes</span><br><span class="line">    /first_node/get_parameters: rcl_interfaces/srv/GetParameters</span><br><span class="line">    /first_node/list_parameters: rcl_interfaces/srv/ListParameters</span><br><span class="line">    /first_node/set_parameters: rcl_interfaces/srv/SetParameters</span><br><span class="line">    /first_node/set_parameters_atomically: rcl_interfaces/srv/SetParametersAtomically</span><br><span class="line">  Service Clients:</span><br><span class="line"></span><br><span class="line">  Action Servers:</span><br><span class="line"></span><br><span class="line">  Action Clients:</span><br></pre></td></tr></table></figure>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/categories/">Tag cloud</a></li>
        
          <li><a href="/search/">Search</a></li>
        
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-up-the-environment"><span class="toc-number">1.</span> <span class="toc-text">Setting up the environment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-the-sourcing-to-shell-startup-script-to-access-ROS2-commands"><span class="toc-number">1.1.</span> <span class="toc-text">Add the sourcing to shell startup script to access ROS2 commands</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-a-workspace"><span class="toc-number">1.2.</span> <span class="toc-text">Creating a workspace</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Creating-a-directory-for-the-workspace"><span class="toc-number">1.2.1.</span> <span class="toc-text">Creating a directory for the workspace</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Build-the-workspace"><span class="toc-number">1.2.2.</span> <span class="toc-text">Build the workspace</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Source-the-environment"><span class="toc-number">1.2.3.</span> <span class="toc-text">Source the environment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setup-colcon-tab-completion"><span class="toc-number">1.2.4.</span> <span class="toc-text">Setup colcon tab completion</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-a-package"><span class="toc-number">1.3.</span> <span class="toc-text">Creating a package</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Building-a-package"><span class="toc-number">1.4.</span> <span class="toc-text">Building a package</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nodes-in-ROS2"><span class="toc-number">2.</span> <span class="toc-text">Nodes in ROS2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#create-a-node-which-logs-a-message"><span class="toc-number">2.1.</span> <span class="toc-text">create a node which logs a message</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-the-node"><span class="toc-number">2.2.</span> <span class="toc-text">Install the node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-the-package-%E2%80%93-instructions-above"><span class="toc-number">2.3.</span> <span class="toc-text">Build the package â€“ instructions above</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-the-node"><span class="toc-number">2.4.</span> <span class="toc-text">Run the node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-a-timer-and-a-callback-inside-the-node"><span class="toc-number">2.5.</span> <span class="toc-text">Add a timer and a callback inside the node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ros2-node-list"><span class="toc-number">2.6.</span> <span class="toc-text">ros2 node list</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ros2-node-info"><span class="toc-number">2.7.</span> <span class="toc-text">ros2 node info</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://naaz97.github.io/2023/07/13/ROS/getting-started/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&text=Getting started with ROS2"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&is_video=false&description=Getting started with ROS2"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Getting started with ROS2&body=Check out this article: https://naaz97.github.io/2023/07/13/ROS/getting-started/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&title=Getting started with ROS2"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://naaz97.github.io/2023/07/13/ROS/getting-started/&name=Getting started with ROS2&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://naaz97.github.io/2023/07/13/ROS/getting-started/&t=Getting started with ROS2"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2023
    Notes
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/categories/">Tag cloud</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'naaz97/naaz97.github.io';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-light';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
